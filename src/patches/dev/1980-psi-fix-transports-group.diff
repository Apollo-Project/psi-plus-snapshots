Index: psi/src/contactlistnestedgroup.cpp
===================================================================
--- psi.orig/src/contactlistnestedgroup.cpp	2013-01-15 14:04:37.400827483 +0400
+++ psi/src/contactlistnestedgroup.cpp	2013-01-15 14:04:37.396827483 +0400
@@ -55,7 +55,10 @@
 	if (canContainSpecialGroups()) {
 		ContactListGroup* group = specialGroupFor(contact);
 		if (group) {
-			group->addContact(contact, contactGroups);
+			if (!contact->isAgent())
+				group->addContact(contact, contactGroups);
+			else
+				group->addContact(contact, QStringList() << QString());
 			return;
 		}
 	}
@@ -113,6 +116,9 @@
 
 void ContactListNestedGroup::contactGroupsChanged(PsiContact* contact, QStringList contactGroups)
 {
+	if (contact->isAgent())
+		return;
+
 	bool restrictContactAdd = false;
 	if (canContainSpecialGroups()) {
 		ContactListGroup* specialGroup = specialGroupFor(contact);
